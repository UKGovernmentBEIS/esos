<h2 class="govuk-heading-m">Workflow history</h2>

<ng-container *ngIf="workflowResults$ | async as workflowResults">
  <ul class="govuk-list">
    <li *ngFor="let workflow of workflowResults.requestDetails" class="search-results-list_item">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-three-quarters">
          <a [routerLink]="['workflows', workflow.id]" govukLink>
            {{ workflow.id }} {{ workflowName(workflow.requestType) }}
          </a>
          <div>Created: {{ workflow.creationDate | govukDate }}</div>
        </div>
        <div class="govuk-grid-column-one-quarter govuk-!-text-align-right">
          <govuk-tag [color]="workflow.requestStatus | statusTagColor">{{
              workflow.requestStatus | i18nSelect : workflowStatusesTagMap
            }}
          </govuk-tag>
        </div>
      </div>
    </li>
  </ul>
  <govuk-pagination
    *ngIf="workflowResults.total > 0 && showPagination$ | async"
    [count]="workflowResults.total"
    (currentPageChange)="page$.next($event)"
    [pageSize]="pageSize"
  ></govuk-pagination>
</ng-container>
