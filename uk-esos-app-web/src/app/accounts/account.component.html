<ng-container *ngIf="accountDetails$ | async as account">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">
      <esos-page-heading size="xl">
        {{ account.name }}
        <govuk-tag [color]="account.status | accountStatusTagColor">{{
          account.status | accountStatus | uppercase
        }}</govuk-tag>
      </esos-page-heading>
    </div>

    <div *ngIf="showStartTask$ | async" class="govuk-grid-column-one-quarter">
      <button govukButton type="button" routerLink="process-actions" class="float-right">Start a new task</button>
    </div>
  </div>
</ng-container>

<govuk-tabs (selectedTab)="selectedTab($event)">
  <ng-template govukTab id="details" label="Details">
    <esos-account-details *ngIf="(currentTab$ | async) === 'details'"></esos-account-details>
  </ng-template>
  <ng-template govukTab id="phases" label="Phases">
    <esos-phases *ngIf="(currentTab$ | async) === 'phases'"></esos-phases>
  </ng-template>
  <ng-template *ngIf="(userRoleType$ | async) !== 'VERIFIER'" govukTab id="users" label="Users and contacts">
    <esos-operators *ngIf="(currentTab$ | async) === 'users'"></esos-operators>
  </ng-template>
  <ng-template govukTab id="workflows" label="Workflow history">
    <esos-workflows *ngIf="(currentTab$ | async) === 'workflows'"></esos-workflows>
  </ng-template>
  <ng-template govukTab id="notes" label="Notes">
    <esos-account-notes *ngIf="(currentTab$ | async) === 'notes'"></esos-account-notes>
  </ng-template>
</govuk-tabs>
