<h2 class="govuk-heading-m">Phases</h2>
@if (report$ | async; as reports) {
  @for (report of reports; track report) {
    <h3 class="govuk-heading-s">{{ report.phase | phases }}</h3>
    <ul class="govuk-list">
      @for (details of report.reportsDetails; track details) {
        <li class="search-results-list_item">
          <div class="govuk-grid-row">
            <div class="govuk-grid-column-three-quarters">
              <a [routerLink]="['phases', details.id]" govukLink>
                {{ details.requestType | i18nSelect: reportsTypesTagsMap }}
              </a>
            </div>
            <div class="govuk-grid-column-one-quarter govuk-!-text-align-right">
              <govuk-tag [color]="details.requestStatus | statusTagColor">
                {{ details.requestStatus | i18nSelect: reportsStatusesTagMap }}
              </govuk-tag>
            </div>
          </div>
        </li>
      }
    </ul>
  }

  @if ((totalReportsNumber$ | async) > 0 && showPagination$ | async) {
    <govuk-pagination
      [count]="totalReportsNumber$ | async"
      (currentPageChange)="page$.next($event)"
      [pageSize]="pageSize"
    ></govuk-pagination>
  }
}
